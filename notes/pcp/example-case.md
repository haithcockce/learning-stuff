
[I.3] In checking the metadata for the pcp data, it looks like we may have a gap
      in logging (expected if the system hung):

 $ ll 20181211*0  
-rw-r--r-- 1 chaithco chaithco 868K Dec 11 08:52 20181211.02.25.0   # These are the raw data files 
-rw-r--r-- 1 chaithco chaithco  21M Dec 11 08:52 20181211.00.25.0   # used to read from later, like 
                                                                    # collectl.*.raw.gz

 - Metrics are contained in the archives of pcp data found in /var/log/pcp/pmlogger/<HOSTNAME>/<DATE>.<HH>.<MM>.0
 - We can check the meta data of the archives to see the span of time covered by an archive 
 - -z sets time frame to original host system's timezone, otherwise times are interpreted with your system's tz

 $ pmdumplog -z -L 20181211.00.25.0
Note: timezone set to local timezone of host "wwppvletla1" from archive

Log Label (Log Format Version 2)
Performance metrics from host wwppvletla1
    commencing Tue Dec 11 00:25:07.371939 2018           <--- time span of interest
    ending     Tue Dec 11 01:27:07.979533 2018           <--- 
Archive timezone: GMT
PID for pmlogger: 13389

 $ pmstat -z -a 20181211.00.25.0 | less
Note: timezone set to local timezone of host "wwppvletla1" from archive

@ Tue Dec 11 00:25:07 2018
 loadavg                      memory      swap        io    system         cpu
   1 min   swpd   free   buff  cache   pi   po   bi   bo   in   cs  us  sy  id
  147.14 125296 277760  86620  5287m    ?    ?    ?    ?    ?    ?   ?   ?   ?   # ? is expected and just means 
  147.14 125296 277760  86620  5287m    0    0    0   64 9451  37K   4   2  95   # there is no sample for that 
  147.14 125296 277760  86620  5287m    0    0    0   65 9451  37K   4   2  95   # time. Commonly seen and usually
  147.14 125296 277760  86620  5287m    0    0    0   65 9451  37K   4   2  95   # at the start of data because 
  147.14 125296 277760  86620  5287m    0    0    0   64 9451  37K   4   2  95   # pmlogger is logging before a 
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
@ Tue Dec 11 01:26:22 2018
 loadavg                      memory      swap        io    system         cpu
   1 min   swpd   free   buff  cache   pi   po   bi   bo   in   cs  us  sy  id
  227.85 130728 592220  97208  4828m    0    0    0   63 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   64 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   63 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   63 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   64 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   63 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   64 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   63 9205  37K   4   2  94
  227.85 130728 592220  97208  4828m    0    0    0   63 9205  37K   4   2  94
 pmFetchGroup: End of PCP archive log

-z: keep in timezone of source system rather than timezone of system data review is happening on
-a <ARCHIVE>: read from this archive file (like -p collectl.raw.gz)
-T HH:MM:SS: read samples until that time stamp
-p: print timestamps


 $ pmrep -z -a 20181211.00.25.0 -T 01:27:07 -p kernel.cpu.util.{user,nice,sys,wait,steal,idle} 
          k.c.u.user  k.c.u.nice  k.c.u.sys  k.c.u.wait  k.c.u.steal  k.c.u.idle
                                                                                
00:25:07         N/A         N/A        N/A         N/A          N/A         N/A
00:25:08         N/A         N/A        N/A         N/A          N/A         N/A
00:25:09       3.538       0.000      1.837      23.413        0.000      69.812
00:25:10       3.525       0.000      1.837      23.400        0.000      69.800
00:25:11       3.538       0.000      1.837      23.413        0.000      69.812
00:25:12       3.525       0.000      1.837      23.413        0.000      69.800
00:25:13       3.525       0.000      1.837      23.400        0.000      69.812
00:25:14       3.538       0.000      1.837      23.413        0.000      69.800
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:26:57       3.688       0.000      2.050      23.225        0.000      69.575
01:26:58       3.688       0.000      2.062      23.225        0.000      69.562
01:26:59       3.700       0.000      2.062      23.225        0.000      69.575
01:27:00       3.688       0.000      2.062      23.225        0.000      69.562
01:27:01       3.688       0.000      2.062      23.225        0.000      69.575
01:27:02       3.700       0.000      2.062      23.225        0.000      69.575
01:27:03       3.688       0.000      2.050      23.225        0.000      69.562
01:27:04       3.700       0.000      2.062      23.212        0.000      69.575
01:27:05       3.688       0.000      2.062      23.225        0.000      69.562
01:27:06       3.688       0.000      2.062      23.225        0.000      69.575

 $ pcp atopsar -c --archive 20181211.00.25.0 --hostzone | less
wwppvletla1  2.6.32-754.3.5.el6.x86_64  #1 SMP Thu Aug 9 11:56:22 EDT 2018  x86_64  2018/12/11

-------------------------- analysis date: 2018/12/11 --------------------------

00:25:07  cpu  %usr %nice %sys %irq %softirq  %steal %guest  %wait %idle  _cpu_
00:25:07  ......................... logging restarted .........................

00:25:27  cpu  %usr %nice %sys %irq %softirq  %steal %guest  %wait %idle  _cpu_
00:25:27  all    29     0   15    0        0       0      0    190   566
            0     3     0    2    0        0       0      0      0    94
            1     3     0    2    0        0       0      0      0    94
            2     4     0    2    0        0       0      0      0    94
            3     5     0    1    0        0       0      0      0    94
            4     5     0    2    0        0       0      0     94     0
            5     3     0    2    0        0       0      0      0    94
            6     2     0    2    0        0       0      0      0    96
            7     2     0    2    0        0       0      0     96     0
00:25:37  all    29     0   15    0        0       0      0    190   566
            0     3     0    2    0        0       0      0      0    94
            1     3     0    2    0        0       0      0      0    94
            2     4     0    2    0        0       0      0      0    94
            3     5     0    1    0        0       0      0      0    94
            4     5     0    2    0        0       0      0     94     0
            5     3     0    2    0        0       0      0      0    94
            6     2     0    2    0        0       0      0      0    96
            7     2     0    2    0        0       0      0     96     0
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:27:07  all    30     0   17    0        0       0      0    189   565
            0     4     0    2    0        0       0      0      0    94
            1     4     0    2    0        0       0      0      0    94
            2     3     0    2    0        0       0      0      0    95
            3     3     0    3    0        0       0      0      0    94
            4     4     0    2    0        0       0      0     94     0
            5     4     0    2    0        0       0      0      0    94
            6     3     0    2    0        0       0      0      0    95
            7     4     0    2    0        0       0      0     94     0
(END)

 $ pcp atopsar -p --archive 20181211.00.25.0 --hostzone | less
00:25:27  pswch/s devintr/s  clones/s  loadavg1 loadavg5 loadavg15       _load_
00:25:27   379799     94510      2.00    147.14   143.95    130.22
00:25:37   379800     94510      3.00    147.14   143.95    130.22
00:25:47   379799     94510      3.00    147.14   143.95    130.22
00:25:57   379800     94509      2.00    147.14   143.95    130.22
00:26:07   379799     94510      3.00    147.14   143.95    130.22
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:24:47   381898     98110     85.00    222.16   217.20    203.61
01:24:57   381899     98111     85.00    222.16   217.20    203.61
01:25:07   381898     98111     85.00    222.16   217.20    203.61
01:25:17   381892     97751      8.00    224.58   218.75    204.98
01:25:27   381891     97728      2.00    224.58   218.75    204.98
01:25:37   381891     97728      3.00    224.58   218.75    204.98
01:25:47   381892     97728      3.00    224.58   218.75    204.98
01:25:57   381891     97727      2.00    224.58   218.75    204.98
01:26:07   381891     97728      3.00    224.58   218.75    204.98
01:26:17   372817     92401      1.00    227.85   220.75    206.53
01:26:27   372228     92055      2.00    227.85   220.75    206.53
01:26:37   372228     92055      1.00    227.85   220.75    206.53
01:26:47   372229     92054      2.00    227.85   220.75    206.53
01:26:57   372228     92055      1.00    227.85   220.75    206.53
01:27:07   372228     92055      2.00    227.85   220.75    206.53

 $ pcp atopsar -s --archive 20181211.00.25.0 --hostzone | less
00:25:27  pagescan/s   swapin/s  swapout/s        commitspc  commitlim   _swap_
00:25:27        0.00       0.00       0.00           21748M     41712M
00:25:37        0.00       0.00       0.00           21748M     41712M
00:25:47        0.00       0.00       0.00           21748M     41712M
00:25:57        0.00       0.00       0.00           21748M     41712M
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:21:57        0.00       0.00       0.00           22011M     41712M
01:22:07        0.00       0.00       0.00           22011M     41712M
01:22:17     1661.00       0.00      22.00           22017M     41712M
01:22:27     1767.00       0.00      23.00           22017M     41712M
01:22:37     1766.00       0.00      24.00           22017M     41712M
01:22:47     1766.00       0.00      23.00           22017M     41712M
01:22:57     1767.00       0.00      24.00           22017M     41712M
01:23:07     1766.00       0.00      23.00           22017M     41712M
01:23:17      131.00       0.00       2.00           22029M     41712M
01:23:27        0.00       0.00       0.00           22029M     41712M
01:23:37        0.00       0.00       0.00           22029M     41712M
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:24:07        0.00       0.00       0.00           22029M     41712M
01:24:17      872.00       0.00      13.00           22026M     41712M
01:24:27      928.00       0.00      13.00           22026M     41712M
01:24:37      928.00       0.00      13.00           22026M     41712M
01:24:47      927.00       0.00      14.00           22026M     41712M
01:24:57      928.00       0.00      13.00           22026M     41712M
01:25:07      928.00       0.00      13.00           22026M     41712M
01:25:17       57.00       0.00       1.00           22049M     41712M
01:25:27        0.00       0.00       0.00           22049M     41712M
01:25:37        0.00       0.00       0.00           22049M     41712M
01:25:47        0.00       0.00       0.00           22049M     41712M
01:25:57        0.00       0.00       0.00           22049M     41712M
01:26:07        0.00       0.00       0.00           22049M     41712M
01:26:17        0.00       0.00       0.00           22048M     41712M
01:26:27        0.00       0.00       0.00           22048M     41712M
01:26:37        0.00       0.00       0.00           22048M     41712M
01:26:47        0.00       0.00       0.00           22048M     41712M
01:26:57        0.00       0.00       0.00           22048M     41712M
01:27:07        0.00       0.00       0.00           22048M     41712M



 $ pminfo mem.vmstat.pgsteal_high -a 20181211.00.25.0 -f

mem.vmstat.pgsteal_high
No value(s) available!

 $ pmrep -t 1m -z -a 20181211.00.25.0 -T 01:27:07 -p :sar-B-old-kernel | less
             pgpgin/s pgpgout/s   fault/s  majflt/s  pgfree/s pgscank/s pgscand/s pgsteal/s
00:25:07          N/A       N/A       N/A       N/A       N/A       N/A       N/A       N/A
00:26:07          N/A       N/A       N/A       N/A       N/A       N/A       N/A       N/A
00:27:07         0.00     39.12    489.25      0.00    336.52      0.00      0.00       N/A
00:28:07         0.00     25.20   2299.72      0.00    934.82      0.00      0.00       N/A
00:29:07         9.62     37.98    692.62      0.03    406.48      0.00      0.00       N/A
00:30:07         0.05     23.55    559.65      0.00    260.95      0.00      0.00       N/A
00:31:07         0.00     39.08    538.58      0.00    447.00      0.00      0.00       N/A
00:32:07         0.00     24.83    242.32      0.00    187.42      0.00      0.00       N/A
00:33:07         0.00     20.57    207.80      0.00    181.72      0.00      0.00       N/A
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:20:07         2.18     44.67    694.63      0.00    434.65      0.00      0.00       N/A
01:21:07         0.02     31.33    380.13      0.00    334.90      0.00      0.00       N/A
01:22:07         1.05     46.70    666.22      0.00    506.67      0.00      0.00       N/A
01:23:07         5.08     59.27    728.97      0.00    723.20    174.88      0.00       N/A
01:24:07         0.07     49.57    608.33      0.00    489.45      2.18      0.00       N/A
01:25:07         4.28     49.33   2416.45      0.02   1130.32     91.85      0.00       N/A
01:26:07         0.05     37.25    414.68      0.00    365.40      0.95      0.00       N/A

 $ pmrep -t 1m -z -a 20181211.00.25.0 -T 01:27:07 -p :sar-d-dev | less
                  DEV       tps     rkB/s     wkB/s   areq-sz    aqu_sz     await     svctm     %util
00:27:07          sda      3.50      0.00     38.50     11.00      0.01      3.49      1.10      0.38
00:27:07          sdc      0.12      0.00      0.60      5.14      0.00      2.14      1.29      0.01
00:27:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
00:27:07          sdb      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
00:28:07          sda      1.77      0.00     24.40     13.81      0.00      2.82      1.19      0.21
00:28:07          sdc      0.15      0.00      0.80      5.33      0.00      1.67      0.89      0.01
00:28:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
00:28:07          sdb      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
00:29:07          sda      3.42      9.62     37.38     13.76      0.02      4.85      2.93      1.00
00:29:07          sdc      0.12      0.00      0.60      5.14      0.00      2.29      1.43      0.02
00:29:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
00:29:07          sdb      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
00:30:07          sda      1.78      0.05     22.75     12.79      0.01      3.10      1.70      0.30
00:30:07          sdc      0.15      0.00      0.80      5.33      0.00      1.67      0.89      0.01
00:30:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
00:30:07          sdb      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:22:07          sda      4.00      1.05     45.92     11.74      0.01      2.37      1.18      0.47
01:22:07          sdc      0.15      0.00      0.80      5.33      0.00      1.33      0.67      0.01
01:22:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
01:22:07          sdb      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
01:23:07          sda      3.45      0.02     49.37     14.31      0.01      2.31      1.31      0.45
01:23:07          sdc      0.28      5.07      0.60     20.00      0.00      7.71      4.29      0.12
01:23:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
01:23:07          sdb      0.03      0.00      9.28    278.50      0.00      7.00      6.00      0.02
01:24:07          sda      3.68      0.00     48.67     13.21      0.01      1.87      0.78      0.29
01:24:07          sdc      0.15      0.07      0.80      5.78      0.00      1.22      0.78      0.01
01:24:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
01:24:07          sdb      0.00      0.00      0.12      0.00      0.00      0.00      0.00      0.00
01:25:07          sda      2.93      4.28     43.43     16.27      0.01      3.24      1.68      0.49
01:25:07          sdc      0.12      0.00      0.60      5.14      0.00      1.86      1.14      0.01
01:25:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
01:25:07          sdb      0.02      0.00      5.28    317.00      0.00      5.00      5.00      0.01
01:26:07          sda      2.80      0.05     36.42     13.02      0.02      7.51      1.18      0.33
01:26:07          sdc      0.15      0.00      0.80      5.33      0.00      1.33      0.67      0.01
01:26:07          sdd      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
01:26:07          sdb      0.00      0.00      0.05      0.00      0.00      0.00      0.00      0.00


 r7 # pmrep -t 1m -z -a 20181211.00.25.0 -T 01:27:07 -p kernel.all.{nprocs,load} proc.runq.{runnable,blocked} | less
          k.a.nprocs  k.a.load  k.a.load  k.a.load  p.r.runnable  p.r.blocked
                      1 minute  5 minute  15 minut                           
                                                           count        count
00:25:07         N/A       N/A       N/A       N/A           N/A          N/A
00:26:07        1320   147.140   143.950   130.220             2          198
00:27:07        1322   149.400   145.170   131.500             2          198
00:28:07        1324   150.080   146.140   132.680             2          198
00:29:07        1320   150.480   146.970   133.810             2          196
00:30:07        1329   151.180   147.800   134.920             2          200
00:31:07        1345   151.860   148.580   135.990             2          206
- - - - - - - - - - - - [SNIP] - - - - - - - - - - - - 
01:19:07        1511   214.240   209.660   195.920             2          318
01:20:07        1517   214.690   210.600   197.100             2          320
01:21:07        1528   216.150   211.740   198.340             2          326
01:22:07        1530   219.100   213.390   199.740             2          328
01:23:07        1531   220.190   214.740   201.060             2          328
01:24:07        1537   221.110   215.960   202.330             2          334
01:25:07        1536   222.160   217.200   203.610             2          334
01:26:07        1558   224.580   218.750   204.980             2          346



The best I can see from this data is we have some swapping occurring, not much
waiting around in the storage queues, but a massive load average from a large
number of blocked tasks. Do we have a vmcore? 





